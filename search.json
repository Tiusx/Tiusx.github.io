[{"title":"PHP Yaf(Yet Another Framework) 扩展及框架部署","path":"/2021/04/07/PHP Yaf(Yet Another Framework) 扩展及框架部署/","content":"查看本机配置终端输入命令php -v 1234$ php -vPHP 7.4.3 (cli) (built: Feb 18 2020 17:29:57) ( NTS Visual C++ 2017 x64 )Copyright (c) The PHP GroupZend Engine v3.4.0, Copyright (c) Zend Technologies 本机环境：windows10 PHPstudy PHP7.4.3 NTS + Nginx1.15 先附上链接地址懒得找yaf 扩展下载地址：https://pecl.php.net/package/yafyaf github项目地址 : https://github.com/laruence/yafyaf 框架文档：https://www.laruence.com/manual/yaf 扩展文档:https://www.php.net/manual/zh/book.yaf.php 下载yaf要使用yaf首先要开启PHP的yaf扩展官网下载 一，选择对应版本，楼主用的PHP7.4所以下载的最新版本3.3.2二，通过phpinfo()选择NTS 还是TS的版本，以及X86或者X64三，disable线程非安全选择： 加载yaf扩展将下载完的yaf扩展解压，把里面的 php_yaf.dll 移到对应的php版本的ext目录下 如： D:\\phpstudy_pro\\Extensions\\php\\php7.4.3nts\\ext 修改php.ini在对应PHP版本的php.ini 加入yaf扩展，保存并重启服务器 1extension=php_yaf.dll 检查模块是否加载成功终端输入命令php -m，看到yaf说明就已经配置成功 1234567$ php -m[PHP Modules]...... yaf......[Zend Modules] 编译yaf demoyaf项目地址 : https://github.com/laruence/yafclone下项目cd 进yaf/tools/cg目录，通过yaf_cg工具新建一个test项目 1234git clone https://github.com/laruence/yaf.git yafcd /yaf/tools/cgphp yaf_cg -d test看到输出done则已成功了 将yaf_cg工具生成的test目录复制到根目录，然后启动：Nginx，到了这一步我们的框架已经生成好了 目录结构123456789101112131415161718+ public |- index.php //入口文件 |- .htaccess //重写规则 |+ css |+ img |+ js+ conf |- application.ini //配置文件 + application |+ controllers |- Index.php //默认控制器 |+ views |+ index //控制器 |- index.phtml //默认视图 |+ modules //其他模块 |+ library //本地类库 |+ models //model目录 |+ plugins //插件目录","tags":["PHP","Framework","yaf","Git","nginx","windows 10"]},{"title":"Linux服务器初始化设置用户和ssh公私钥登陆","path":"/2018/04/11/Linux服务器初始化设置用户和ssh公私钥登陆/","content":"当我们开始使用一个新的服务器的时候，首先一定要对服务器的登陆等做一些修改工作，笔者曾经就因为对服务器登陆安全没有重视，导致服务器数据全部丢失。接下来我们按照步骤，罗列出应该做的一些事情。 修改ssh端口号第一件事情： 修改ssh端口号： 之后加上一个端口比如说50000 vi /etc/ssh/sshd_config之后在port字段加上一个端口比如说50000，原来的端口号字段可能是被注释掉的，要先解除注释。 然后执行： 1service sshd restart 这个时候可能还要重新配置一下防火墙，开放50000端口，具体如何配置也可以参考这里的后半部分。但是目前，阿里云的服务器实测是不需要再配置防火墙的，但是需要去登陆到网页后台修改安全组。 之后就可以通过这样的方式登录了：(注意登录方式一定要写对) 1ssh root@115.29.102.81 -p 50000 创建用户这个时候我们还是用root进行操作，所以我们接下来要给自己创建一个账户，比如创建一个如下的用户： 12useradd xiaotaopasswd xiaotao 可以用&#96;ls -al &#x2F;home&#x2F;&#96;&#96;查看一下账户 对创建的这个用户增加sudo权限： 相关配置文件&#x2F;etc&#x2F;sudoers中，但是这个文件是只读的，所以要更改一下权限 1chmod u+w sudoers 然后进入这个文件在这里进行更改： 12root ALL=(ALL) ALLxiaotao ALL=(ALL) ALL 然后再改回权限： 1chmod u-w sudoers 注意一点，CentOS 7预设容许任何帐号透过ssh登入（也就是说自己根本不用改改，直接新建帐号登录即可），包括根和一般帐号，为了不受根帐号被黑客暴力入侵，我们必须禁止 root帐号的ssh功能，事实上root也没有必要ssh登入伺服器，因为只要使用su或sudo（当然需要输入root的密码）普通帐号便可以拥有root的权限。使用vim（或任何文本编辑器）开启的&#x2F; etc&#x2F; SSH&#x2F; sshd_config中，寻找： 1＃PermitRootLogin yes 修改： 1PermitRootLogin no 配置公私钥加密登录这一步骤要切换到自己新建的用户，不能再用 root 用户了，否则可能无法正常登陆。 很多时候以上所说的还是不够安全，为了更加安全方便，我们采用公私钥对称加密登录，简单的讲做法就是再客户端生成一把私钥一把公钥，私钥是在客户端的，公钥上传到服务端，对称加密进行登录。 在客户端先进到这个目录： 1cd ~/.ssh 生成公钥和私钥（实际上如果之前有的话就不用重新生成了） 1ssh-keygen -t rsa 接下来把公钥上传到服务端 1scp ~/.ssh/id_rsa.pub xiaotao@&lt;ssh_server_ip&gt;:~ 在服务端执行以下命令(如果没有相关的文件和文件夹要先进行创建，注意不要使用 sudo ) 1cat id_rsa.pub &gt;&gt; ～/.ssh/authorized_keys 配置服务器的&#x2F;etc&#x2F;ssh&#x2F;sshd_config，下面是一些建议的配置： 1234567891011121314151617vim /etc/ssh/sshd_config# 禁用root账户登录，非必要，但为了安全性，请配置PermitRootLogin no# 是否让 sshd 去检查用户家目录或相关档案的权限数据，# 这是为了担心使用者将某些重要档案的权限设错，可能会导致一些问题所致。# 例如使用者的 ~.ssh/ 权限设错时，某些特殊情况下会不许用户登入StrictModes no# 是否允许用户自行使用成对的密钥系统进行登入行为，仅针对 version 2。# 至于自制的公钥数据就放置于用户家目录下的 .ssh/authorized_keys 内RSAAuthentication yesPubkeyAuthentication yesAuthorizedKeysFile %h/.ssh/authorized_keys#有了证书登录了，就禁用密码登录吧，安全要紧PasswordAuthentication no 然后不要忘记 sudo service sshd restart 一般来讲，这样就算是成功了，我们可以在客户端尝试： 1ssh -i ~/.ssh/id_rsa remote_username@remote_ip 如果不行，可能是服务端或客户端相关 .ssh 文件权限不对，可以进行如下尝试： 123456服务端chown -R 0700 ~/.sshchown -R 0644 ~/.ssh/authorized_keys客户端改一下chmod 600 id_rsa","tags":["Linux","ssh"]},{"title":"友链","path":"/friends/index.html","content":"友链关于小伙伴们如果宇宙中真有什么终极的逻辑，那就是我们终有一天会在舰桥上重逢，直到生命终结。 加入友链 您的网站应满足以下全部条件： 安全合规：合法的、非营利性、无木马植入的 HTTPS 站点。 非空壳网站：网站内发布至少 五篇 原创文章，内容题材不限。 我已满足全部条件，快告诉我如何交换友链！如果您没有满足上述条件，即时提交了申请也不会通过哦～第一步：新建 Issue新建 GitHub Issue 按照模板格式填写并提交。为了提高图片加载速度，建议优化头像：打开 压缩图 上传自己的头像，将图片尺寸调整到 144px 后下载。将压缩后的图片上传到 去不图床 或者其它稳定的图床并使用此图片链接作为头像。第二步：添加友链并等待管理员审核请添加本站到您的友链中：1234title: xxxurl: https://xxx.comavatar: screenshot: 待管理员审核通过，添加了 active 标签后，回来刷新即可生效。如果您需要更新自己的友链，请直接修改 issue 内容，大约 3 分钟内生效，无需等待博客重新部署。"},{"path":"/news/index.html","content":"🐱2024202320222021 2024-03-09狠人必备：陈桂林同款手表🐷2024-02-18自制多肉拼盘🌱2024-02-13哦🫨，啊😮，哇😍 Your browser does not support the video tag. 2024-02-13彩菊的正确打开方式😎 Your browser does not support the video tag. 2024-02-13落日余晖 &amp; 皓月当空🌆2024-02-13南京青奥中心🏙️2024-02-11草莓园里摘草莓🍓2024-02-07过年就是要放烟花🎇2024-02-07夕阳下雪白的田野⛄"},{"path":"/notes/index.html","content":"1234title: xxxurl: https://xxx.comavatar: screenshot:"},{"path":"/news/2022/index.html","content":"🐱2024202320222021 2022-11-18初冬的草莓，初恋的味道💑2022-09-03逆天！考了二十多次才过😅2022-08-27MANNER × 大黄鸭 &#x3D; 鸭 ya 美式2022-08-15原来在抖音上天天听到的就是你！Cheerful 云希🤣 Your browser does not support the video tag. 2022-08-13瓦豆鲁迪 vs. 粉色恶魔2022-07-10960 成功入住海景房！这波是刘姥姥进大观园🤪2022-07-06618 买的配件总算到齐了，开始装机！2022-07-05我大约是患上了新冠 PTSD，一有风吹草动立马开启及时行乐模式。2022-07-02大清早被拉起来大筛，出门喝一杯🥱2022-06-20Happy Birthday to Me!2022-06-16关西风味的寿喜锅，生日快乐我的臭宝🥰2022-06-13发现一家宝藏咖啡☕2022-06-08今天躲过了自疫情以来的第四波裁员，这下真决赛圈了😨2022-06-05iPad mini 办公模式配置完成！以后就可以带着它愉快地 在家办公 在外摸鱼啦～2022-06-03迟到了两个半月的游戏。。。2022-05-30从三月十号到五月三十号，这九九八十一天经历了不下九九八十一难。再过两天，这场「天大的笑话」终将拉下帷幕，而奥密克戎也将「依法」消散在上海的空气中。 Your browser does not support the video tag. 2022-05-22隔离两个多月之后喝到的第一杯奶茶🥤2022-04-30台湾卤肉饭！大！成！功！2022-04-20莫非阴性是错误答案，阳性才是正确答案🤬2022-04-16公司发的爱心大礼包，沉甸甸的💝2022-04-15钞能力发动！这一桌堪称沪上顶级奢侈🤭2022-04-12我是饿鬼👻2022-03-31疫情当下也要保持积极乐观的心态🍛2022-03-26自测成功，非常酸爽🙃2022-03-24每天叫醒我的不是梦想，是核酸。。。2022-03-18趁还没被封出来 66，空无一人的陆家嘴😷2022-03-14在下滨江大道的拖鞋战神🤸‍♂️ Your browser does not support the video tag. 2022-02-14魔都日式烤肉天花板，Happy Valentine’s Day❤️2022-02-12我觉得星黛露比玲娜贝儿可爱！2022-02-11一口气听完整张专辑，盆栽哥的嗓音加上金凯瑞的旁白真是绝了！2022-02-03简单上个翡翠😂2022-01-30两周时间搞定两张新证书和一张续期证书，不愧是我😎2022-01-23iPhone 13，解锁超能力🚀2022-01-15大冬天的就是要在家吃麻辣火锅才过瘾！2022-01-03I will always by your side.2022-01-032022 - 点亮心中奇梦🎆 Your browser does not support the video tag. 2022-01-02我在上海之巅🐱2022-01-01哇哦！我的新年礼物！"},{"path":"/news/cat/index.html","content":"🐱2024202320222021 2024-03-14卡住了吧😂2024-03-11找了半天原来藏在这儿！ Your browser does not support the video tag. 2024-03-08德克士手枪腿🍗2024-02-16困~ 死~ 我~ 啦~2023-06-21核桃夜游滨江大道🏕️2023-06-18太~ 舒~ 服~ 啦~ Your browser does not support the video tag. 2023-06-02每天下午都好困啊💤2023-02-23核桃狂炫酸奶😋 Your browser does not support the video tag. 2023-02-08天真无邪的小眼神🤗2023-01-11在我帽子里睡着了😴2023-01-05粉红爪爪可爱滴捏😊2022-10-27今天小核桃出生啦🎉"},{"path":"/news/2023/index.html","content":"🐱2024202320222021 2023-08-08历时两月，历经五世，魔兽世界乌龟服硬核模式挑战成功！2023-07-02家庭自制轻食 Brunch🥗2023-06-23无锡阳山现场品尝「早桃」，据说最甜的「胡景桃」还要一周才能上市🍑2023-06-20生日快乐！又长了一岁🎂2023-05-22OMAKASE 初体验，每道菜都做得非常精致，前前后后上了二十多道，最后把我吃撑了⁓2023-05-22与你，今年，明年，年年💕2023-05-14抓住春天的尾巴🍃2023-05-13四五月份的皮皮虾是最肥的😋2023-05-12友善 NanoPi R4S 到手，开始折腾！2023-04-28Last Working Day，小伙伴们江湖再见👋2023-04-20结果当然是感动得一塌糊涂然后娇羞地答应啦😊2023-04-20精心布置了一整天的求婚仪式，准备给女朋友一个大大的惊喜！2023-02-21想打游戏了🎮"},{"path":"/news/2021/index.html","content":"🐱2024202320222021 2021-12-27水果比萨斜塔🤣2021-12-27元气满满的一首歌🧡2021-12-17吨吨吨，都在酒里了🥂2021-12-16深圳湾畔，春笋楼前🌃2021-12-12HELLO！树先生🎄2021-12-11「总有一天，全城的人都要高看我们！」2021-12-10JINGLE BELLS, JINGLE BELLS, JINGLE ALL THE WAY✨2021-12-02造就完了！麦当劳 FUCKING CRAZY THURSDAY！2021-11-14在家做寿喜锅，味道 YYDS！ Your browser does not support the video tag. 2021-11-11FILCO - 键盘界的劳斯莱斯2021-10-29PL-600 顺利通过！嘻嘻😁2021-10-24FREEDOM GUNDAM - LALAPORT SHANGHAI2021-10-21上海这还没一叶知秋就直接一秒入冬了🥶2021-10-20麦当劳组合疯狂上分💪2021-10-02晚风轻拂，小酌一杯🍻2021-10-01花博会冰淇凌，味道怪怪的🙃2021-09-24周五下班放松一下～2021-09-20中秋佳节赏无锡惠山🌝2021-09-12干饭人，干饭魂！"}]